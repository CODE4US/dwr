<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Strict//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>Jaxer With DWR Remoting</title>

  <!-- Roughly speaking, this is how DWR works on the client -->
  <script type='text/javascript' src='http://localhost:8080/demoServer/dwr/util.js'></script>
  <script type='text/javascript' src='http://localhost:8080/demoServer/dwr/engine.js'></script>
  <script type='text/javascript' src='http://localhost:8080/demoServer/dwr/new/org.getahead.dwrdemo.intro.Intro.js'></script>
  <script type='text/javascript'>
  function loadClient() {
    Intro.getInsert(function(parts) {
      dwr.util.setValue('fillFromClient', parts[0], { escapeHtml:false });
    });
  }
  </script>

  <!-- This is how it works on the server, frameworkPatch.js would be pre-integrated -->
  <script type='text/javascript' src='frameworkPatch.js' runat="server"></script>
  <script type='text/javascript' runat="server">
  Jaxer.dwr.pathToDwrServlet = "http://localhost:8080/demoServer/dwr";
  Jaxer.dwr.require("util", "new/org.getahead.dwrdemo.intro.Intro");

  function loadServer() {
    var parts = Intro.getInsert();
    dwr.util.setValue('fillFromServer', parts[0], { escapeHtml:false });
  }
  </script>
</head>
<body onload="loadClient();" onserverload="loadServer()">

<p>Normal paragraph rendered in HTML</p>

<p>From the client: <div id="fillFromClient"></div></p>

<p>From the server: <div id="fillFromServer"></div></p>

</body>
</html>
