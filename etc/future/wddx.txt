
Hey Joe,

I’d like to thank you for your efforts with drw; it is a great product!

I recently had to make a small change to the DRWUtil.addRows function so I thought I would share. You can take arrays and objects as arguments, but I had the need to take a wddx serialized object.

So the two changes are:

DWRUtil._isWDDX = function(data) {
  return (data && data.dump) ? true : false;
}; 

And inside the addRows() function

  if (DWRUtil._isWDDX(data)) {
    for (rowNum = 0; rowNum < data.getRowCount(); rowNum++) {
      var tr = options.rowCreator(options);

                for (var col in data) {
                          if (typeof (data[col]) == "object") {
                  var td;
                  td = options.cellCreator({"data" : data[col][rowNum], "cellNum" : rowNum});
                  td.appendChild(document.createTextNode(data[col][rowNum]));
                  tr.appendChild(td);
                          }
                        }
      if (tr != null) ele.appendChild(tr);
    }
  }

It works without any cell function because all the data is self contained.

I know Java doesn’t use wddx very often, but it is a really handy tool to have available.

See you at the Ajax Experience in May.

Cheers,

-Rob
